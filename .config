# --- 硬件与系统底层 (地基) ---
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_DEVICE_generic=y
CONFIG_TARGET_KERNEL_PARTSIZE=256
CONFIG_TARGET_ROOTFS_PARTSIZE=1024
CONFIG_PACKAGE_kmod-igc=y
CONFIG_PACKAGE_kmod-nvme=y
CONFIG_PACKAGE_kmod-mii=y
CONFIG_PACKAGE_kmod-intel-microcode=y
CONFIG_PACKAGE_kmod-crypto-aesni=y
CONFIG_PACKAGE_irqbalance=y

## 关闭全量编译，这是导致磁盘爆仓和 r8101 等驱动报错的主因
# CONFIG_ALL_KMODS is not set

# --- 网络核心与高并发优化 ---
CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_kmod-nft-fullconntrack=y
CONFIG_PACKAGE_tcpdump=y
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_BBR_CCA=y
CONFIG_PACKAGE_luci-i18n-turboacc-zh-cn=y

# --- 存储、Docker 与 虚拟化 (方案一重灾区修复) ---
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_smartmontools=y
CONFIG_PACKAGE_partx-utils=y

CONFIG_PACKAGE_luci-app-dockerman=y
CONFIG_PACKAGE_luci-i18n-dockerman-zh-cn=y
CONFIG_PACKAGE_docker-ce=y
CONFIG_PACKAGE_containerd=y
CONFIG_PACKAGE_runc=y
# 必须手动开启的内核驱动，防止 Docker 报错
CONFIG_PACKAGE_kmod-veth=y
CONFIG_PACKAGE_kmod-ikconfig=y
CONFIG_PACKAGE_kmod-nf-ipvs=y

# --- 影院级流媒体优化 (Apple TV 专用) ---
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Sing_Box=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Haproxy=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_ChinaDNS_NG=y
CONFIG_PACKAGE_luci-app-smartdns=y
CONFIG_PACKAGE_luci-i18n-smartdns-zh-cn=y
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y

# --- 功能补全 (运维/监控) ---
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-app-statistics=y
CONFIG_PACKAGE_collectd-mod-thermal=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_ca-certificates=y

# --- 界面主题 ---
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y

# 跨国远程维护神品
CONFIG_PACKAGE_luci-app-zerotier=y
CONFIG_PACKAGE_luci-i18n-zerotier-zh-cn=y

# 保护你的 NVMe SSD
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_kmod-zram=y

# 硬件监控 (N100 属于被动散热，这个很重要)
CONFIG_PACKAGE_luci-app-netdata=y
CONFIG_PACKAGE_luci-i18n-netdata-zh-cn=y

# --- 错误修正：剔除报错包与无用驱动 ---
# CONFIG_PACKAGE_kmod-r8101 is not set
# CONFIG_PACKAGE_dahdi-linux is not set
# CONFIG_PACKAGE_openvswitch is not set
# CONFIG_PACKAGE_db is not set

# --- 针对 N100 的极致优化 ---
# 既然是 N100，强烈建议开启硬件 AES 加速，你的配置里已经有了，很好。
CONFIG_PACKAGE_kmod-crypto-aesni=y
